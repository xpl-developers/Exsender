{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/abdulhakeem/Express/exsender/pages/token-distributor.js\";\nimport React from \"react\";\nimport Page from '../layouts/Main';\nimport { Input, Button, FileInput, TextArea, Select, CheckBox } from '../components/FormFields';\nimport { Web3ConnectionHandler } from '../components/web3-connect';\nvar xplAddress = \"0x2d213012e19f1433cb394ae6faba1c6a71ad1690\";\n\nvar TokenDistributor =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(TokenDistributor, _React$Component);\n\n  function TokenDistributor(props) {\n    var _this;\n\n    _classCallCheck(this, TokenDistributor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TokenDistributor).call(this, props));\n    _this.initialAmount = {\n      tokenAmountClassList: \"input is-large\",\n      tokenAmountPlaceholder: \"Enter Amount\",\n      tokenAmountType: \"text\"\n    };\n    _this.contractProps = {\n      contractAddress: \"\",\n      contractName: \"\",\n      contractDecimals: \"\",\n      contractSymbol: \"\",\n      addressBalance: \"\",\n      distributorContractAllowance: \"\"\n    };\n    _this.newDistribution = {\n      selectedFileName: \"No file selected\",\n      textAreaWithAddresses: \"\",\n      tokenAmount: \"\"\n    };\n    _this.state = _objectSpread({\n      isUnifiedAmount: true,\n      isWeb3Browser: false,\n      web3BrowserConnected: false,\n      isProcessing: false\n    }, _this.initialAmount, _this.contractProps, _this.newDistribution);\n    _this.toggleAmount = _this.toggleAmount.bind(_assertThisInitialized(_this));\n    _this.unlockBrowser = _this.unlockBrowser.bind(_assertThisInitialized(_this));\n    _this.handleBlur = _this.handleBlur.bind(_assertThisInitialized(_this));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    _this.handleReset = _this.handleReset.bind(_assertThisInitialized(_this)); // this.fileInput = React.createRef();\n\n    return _this;\n  }\n\n  _createClass(TokenDistributor, [{\n    key: \"toggleAmount\",\n    value: function toggleAmount() {\n      if (this.state.isUnifiedAmount) {\n        this.setState({\n          isUnifiedAmount: false,\n          tokenAmountClassList: \"textarea\",\n          tokenAmountPlaceholder: \"Comma or whitespace separated amount in order of addresses \\n240, 50, 100, 10, 75, 13, 5\",\n          tokenAmountType: \"textarea\"\n        });\n      } else {\n        this.setState(_objectSpread({\n          isUnifiedAmount: true\n        }, this.initialAmount));\n      }\n    }\n  }, {\n    key: \"unlockBrowser\",\n    value: function unlockBrowser() {\n      var self = this;\n      Web3ConnectionHandler.enableWeb3Browser().then(function () {\n        self.setState({\n          web3BrowserConnected: true\n        });\n      }).catch(function (err) {\n        console.log(err);\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n      console.log(this.state);\n    }\n  }, {\n    key: \"handleBlur\",\n    value: function () {\n      var _handleBlur = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        var _e$target, name, value, self, contractName, contractSymbol, contractDecimals, addressBalance, distributorContractAllowance;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _e$target = e.target, name = _e$target.name, value = _e$target.value;\n                self = this;\n                self.setState(_defineProperty({}, name, value));\n\n                if (!(name == \"contractAddress\")) {\n                  _context.next = 39;\n                  break;\n                }\n\n                if (!(value.length >= 40)) {\n                  _context.next = 38;\n                  break;\n                }\n\n                self.setState({\n                  isProcessing: true\n                });\n                _context.prev = 6;\n                _context.next = 9;\n                return Web3ConnectionHandler.getContractProp(value, 'name');\n\n              case 9:\n                contractName = _context.sent;\n                _context.next = 12;\n                return Web3ConnectionHandler.getContractProp(value, 'symbol');\n\n              case 12:\n                contractSymbol = _context.sent;\n                _context.next = 15;\n                return Web3ConnectionHandler.getContractProp(value, 'decimals');\n\n              case 15:\n                contractDecimals = _context.sent.toNumber();\n                _context.next = 18;\n                return Web3ConnectionHandler.getContractProp(value, 'balanceOf', Web3ConnectionHandler.checkBrowserCompatibility().selectedAddress);\n\n              case 18:\n                _context.t0 = _context.sent.toNumber();\n                _context.t1 = Math.pow(10, contractDecimals);\n                addressBalance = (_context.t0 / _context.t1).toString();\n                _context.next = 23;\n                return Web3ConnectionHandler.getContractProp(value, 'allowance', Web3ConnectionHandler.checkBrowserCompatibility().selectedAddress, xplAddress);\n\n              case 23:\n                _context.t2 = _context.sent;\n                _context.t3 = Math.pow(10, contractDecimals);\n                distributorContractAllowance = (_context.t2 / _context.t3).toString();\n                // update state\n                self.setState({\n                  contractName: contractName,\n                  contractSymbol: contractSymbol,\n                  contractDecimals: contractDecimals,\n                  addressBalance: addressBalance,\n                  distributorContractAllowance: distributorContractAllowance\n                });\n                _context.next = 33;\n                break;\n\n              case 29:\n                _context.prev = 29;\n                _context.t4 = _context[\"catch\"](6);\n                console.log(\"Invalid contract Address / Network Error\");\n                self.setState({\n                  contractAddress: \"\"\n                });\n\n              case 33:\n                _context.prev = 33;\n                self.setState({\n                  isProcessing: false\n                });\n                return _context.finish(33);\n\n              case 36:\n                _context.next = 39;\n                break;\n\n              case 38:\n                self.emptyContractProps();\n\n              case 39:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[6, 29, 33, 36]]);\n      }));\n\n      function handleBlur(_x) {\n        return _handleBlur.apply(this, arguments);\n      }\n\n      return handleBlur;\n    }()\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      var _e$target2 = e.target,\n          name = _e$target2.name,\n          value = _e$target2.value;\n      var self = this;\n      self.setState(_defineProperty({}, name, value));\n\n      if (name == \"uploadFileInput\") {\n        var files = document.getElementById(name).files;\n        console.log(files);\n\n        if (files.length > 0) {\n          self.setState({\n            selectedFileName: files[0].name\n          });\n        }\n      }\n    }\n  }, {\n    key: \"emptyContractProps\",\n    value: function emptyContractProps() {\n      this.setState(this.contractProps);\n    }\n  }, {\n    key: \"handleReset\",\n    value: function handleReset() {\n      this.setState(_objectSpread({}, this.newDistribution, this.contractProps));\n    }\n  }, {\n    key: \"formFields\",\n    value: function formFields() {\n      return {\n        contractAddress: {\n          type: \"text\",\n          name: \"contractAddress\",\n          placeholder: \"Contract Address\",\n          className: \"input is-large\",\n          value: this.state.contractAddress,\n          onBlur: this.handleBlur,\n          onChange: this.handleChange,\n          autoComplete: \"off\"\n        },\n        contractDecimals: {\n          type: \"text\",\n          name: \"contractDecimals\",\n          placeholder: \"Decimals\",\n          className: \"input is-medium\",\n          readOnly: true,\n          value: this.state.contractDecimals\n        },\n        addressBalance: {\n          type: \"text\",\n          name: \"addressBalance\",\n          placeholder: \"Balance\",\n          className: \"input is-medium\",\n          readOnly: true,\n          value: this.state.addressBalance\n        },\n        distributorContractAllowance: {\n          type: \"text\",\n          name: \"distributorContractAllowance\",\n          placeholder: \"Allowance\",\n          className: \"input is-medium\",\n          readonly: true,\n          value: this.state.distributorContractAllowance\n        },\n        amountController: [{\n          type: \"radio\",\n          name: \"amountController\",\n          placeholder: \"Unified amount\",\n          defaultChecked: true,\n          onChange: this.toggleAmount\n        }, {\n          type: \"radio\",\n          name: \"amountController\",\n          placeholder: \"Split amount\",\n          onChange: this.toggleAmount\n        }],\n        uploadFileInput: {\n          name: \"uploadFileInput\",\n          onChange: this.handleChange,\n          label: \"Select a file (optional)\",\n          fileName: this.state.selectedFileName\n        },\n        tokenAmount: {\n          type: this.state.tokenAmountType,\n          name: \"tokenAmount\",\n          className: this.state.tokenAmountClassList,\n          value: this.state.tokenAmount,\n          placeholder: this.state.tokenAmountPlaceholder,\n          onBlur: this.handleBlur\n        },\n        textAreaWithAddresses: {\n          type: \"textarea\",\n          name: \"textAreaWithAddresses\",\n          value: this.state.textAreaWithAddresses,\n          placeholder: \"Comma or whitespace separated addresses\\n0x138e326c28114f65202b4ed82a1eecdf81451e09, 0xca353c48ab32b8baba846477d28254309be5e7c6\",\n          onBlur: this.handleBlur\n        },\n        submitButton: {\n          type: \"submit\",\n          text: \"Send Transaction\",\n          className: \"button is-large is-link\"\n        },\n        resetButton: {\n          type: \"button\",\n          text: \"Reset\",\n          className: \"button is-medium is-danger\",\n          onClick: this.handleReset\n        }\n      };\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (Web3ConnectionHandler.checkBrowserCompatibility()) {\n        this.setState({\n          isWeb3Browser: true\n        });\n        this.unlockBrowser();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.web3BrowserConnected && this.state.isWeb3Browser) {\n        return React.createElement(Page, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 252\n          },\n          __self: this\n        }, React.createElement(\"section\", {\n          className: \"halfpage-height\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 253\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"container pl-4 pr-4 mt-4 pb-4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 254\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          className: \"is-size-3 has-text-centered\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 255\n          },\n          __self: this\n        }, \"Token Distributor\"), React.createElement(\"div\", {\n          className: \"columns center-align\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 256\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          className: \"column is-8\",\n          onSubmit: this.handleSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 257\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          className: \"subtitle is-size-4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 258\n          },\n          __self: this\n        }, \"Token Information\"), React.createElement(Input, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"field\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 262\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"control buttons\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263\n          },\n          __self: this\n        }, React.createElement(Button, _extends({}, this.formFields().submitButton, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264\n          },\n          __self: this\n        })), React.createElement(Button, _extends({}, this.formFields().resetButton, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267\n          },\n          __self: this\n        }))))), React.createElement(\"div\", {\n          className: \"column\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 274\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276\n          },\n          __self: this\n        }, \"Selected Address\"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 277\n          },\n          __self: this\n        }, Web3ConnectionHandler.checkBrowserCompatibility().selectedAddress)), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 279\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 280\n          },\n          __self: this\n        }, \"Network\"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 280\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"tag is-medium is-\".concat(Web3ConnectionHandler.connectedNetwork().colour || \"danger\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 281\n          },\n          __self: this\n        }, Web3ConnectionHandler.connectedNetwork().name || \"Unknown Network\")), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 285\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 286\n          },\n          __self: this\n        }, \" Target Contract \"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 286\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 287\n          },\n          __self: this\n        }, \" \", this.state.contractAddress || \"Not a valid contract address\", \" \"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 287\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 289\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 290\n          },\n          __self: this\n        }, \"Name: \"), \" \", this.state.contractName || \"Not available\", \" \", React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 290\n          },\n          __self: this\n        }), React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 291\n          },\n          __self: this\n        }, \"Symbol: \"), \" \", this.state.contractSymbol || \"Not available\")), this.state.isProcessing && React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 296\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"button is-text is-link is-large is-loading\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 297\n          },\n          __self: this\n        }, \"loading\")))))));\n      } else if (this.state.isWeb3Browser) {\n        return React.createElement(LockedWeb3Browser, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 308\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"button is-warning is-large\",\n          onClick: this.unlockBrowser,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 309\n          },\n          __self: this\n        }, \"Unlock Metamask\"));\n      } else {\n        return React.createElement(NoWeb3Browser, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 318\n          },\n          __self: this\n        });\n      }\n    }\n  }]);\n\n  return TokenDistributor;\n}(React.Component);\n\nfunction LockedWeb3Browser(props) {\n  return React.createElement(Page, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326\n    },\n    __self: this\n  }, React.createElement(\"section\", {\n    className: \"halfpage-height\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container pl-4 pr-4 mt-4 pb-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"is-size-3 has-text-centered\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329\n    },\n    __self: this\n  }, \"Token Distributor\"), React.createElement(\"div\", {\n    className: \"columns center-align\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"column pt-4 mt-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"is-size-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332\n    },\n    __self: this\n  }, \" Please unlock Metamask to continue.\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332\n    },\n    __self: this\n  }), props.children), React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335\n    },\n    __self: this\n  })))));\n}\n\nfunction NoWeb3Browser() {\n  return React.createElement(Page, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346\n    },\n    __self: this\n  }, React.createElement(\"section\", {\n    className: \"halfpage-height\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container pl-4 pr-4 mt-4 pb-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"is-size-3 has-text-centered\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349\n    },\n    __self: this\n  }, \"Token Distributor\"), React.createElement(\"div\", {\n    className: \"columns\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"column center-align mt-4 pt-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"is-size-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352\n    },\n    __self: this\n  }, \" This feature requires Metamask to be installed.\"), React.createElement(\"a\", {\n    className: \"button is-danger is-large\",\n    href: \"https://metamask.io\",\n    target: \"_blank\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353\n    },\n    __self: this\n  }, \"Download Metamask\")), React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361\n    },\n    __self: this\n  })))));\n}\n\nexport default TokenDistributor;","map":{"version":3,"sources":["/home/abdulhakeem/Express/exsender/pages/token-distributor.js"],"names":["Page","Input","Button","FileInput","TextArea","Select","CheckBox","Web3ConnectionHandler","xplAddress","TokenDistributor","props","initialAmount","tokenAmountClassList","tokenAmountPlaceholder","tokenAmountType","contractProps","contractAddress","contractName","contractDecimals","contractSymbol","addressBalance","distributorContractAllowance","newDistribution","selectedFileName","textAreaWithAddresses","tokenAmount","state","isUnifiedAmount","isWeb3Browser","web3BrowserConnected","isProcessing","toggleAmount","bind","unlockBrowser","handleBlur","handleChange","handleSubmit","handleReset","setState","self","enableWeb3Browser","then","catch","err","console","log","e","preventDefault","target","name","value","length","getContractProp","toNumber","checkBrowserCompatibility","selectedAddress","Math","pow","toString","emptyContractProps","files","document","getElementById","type","placeholder","className","onBlur","onChange","autoComplete","readOnly","readonly","amountController","defaultChecked","uploadFileInput","label","fileName","submitButton","text","resetButton","onClick","formFields","connectedNetwork","colour","React","Component","LockedWeb3Browser","children","NoWeb3Browser"],"mappings":"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","sourcesContent":["import Page from '../layouts/Main';\n\nimport { Input, Button, FileInput, TextArea, Select, CheckBox } from '../components/FormFields';\nimport { Web3ConnectionHandler } from '../components/web3-connect';\n\nlet xplAddress = \"0x2d213012e19f1433cb394ae6faba1c6a71ad1690\";\n\nclass TokenDistributor extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.initialAmount = {\n\t\t\ttokenAmountClassList: \"input is-large\",\n\t\t\ttokenAmountPlaceholder: \"Enter Amount\",\n\t\t\ttokenAmountType: \"text\"\n\t\t}\n\t\tthis.contractProps = {\n\t\t\tcontractAddress: \"\",\n\t\t\tcontractName: \"\",\n\t\t\tcontractDecimals: \"\",\n\t\t\tcontractSymbol: \"\",\n\t\t\taddressBalance: \"\",\n\t\t\tdistributorContractAllowance: \"\",\n\t\t}\n\t\tthis.newDistribution = {\n\t\t\tselectedFileName: \"No file selected\",\n\t\t\ttextAreaWithAddresses: \"\",\n\t\t\ttokenAmount: \"\",\n\t\t}\n\n\t\tthis.state = {\n\t\t\tisUnifiedAmount: true, \n\t\t\tisWeb3Browser: false, \n\t\t\tweb3BrowserConnected: false,\n\t\t\tisProcessing: false,\n\t\t\t...this.initialAmount,\n\t\t\t...this.contractProps,\n\t\t\t...this.newDistribution\n\t\t};\n\n\t\tthis.toggleAmount = this.toggleAmount.bind(this);\n\t\tthis.unlockBrowser = this.unlockBrowser.bind(this);\n\t\tthis.handleBlur = this.handleBlur.bind(this);\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t\tthis.handleReset = this.handleReset.bind(this);\n\n\t\t// this.fileInput = React.createRef();\n\t}\n\t\n\ttoggleAmount() {\n\t\tif (this.state.isUnifiedAmount) {\n\t\t\tthis.setState({\n\t\t\t\tisUnifiedAmount: false,\n\t\t\t\ttokenAmountClassList: \"textarea\",\n\t\t\t\ttokenAmountPlaceholder: \"Comma or whitespace separated amount in order of addresses \\n240, 50, 100, 10, 75, 13, 5\",\n\t\t\t\ttokenAmountType: \"textarea\"\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tisUnifiedAmount: true,\n\t\t\t\t...this.initialAmount\n\t\t\t});\n\t\t}\n\t}\n\n\tunlockBrowser() {\n\t\tlet self = this;\n\t\tWeb3ConnectionHandler.enableWeb3Browser()\n\t\t.then(function() {\n\t\t\tself.setState({web3BrowserConnected: true});\n\t\t})\n\t\t.catch(function(err){\n\t\t\tconsole.log(err)\n\t\t})\n\t}\n\thandleSubmit(e) {\n\t\te.preventDefault();\n\t\tconsole.log(this.state);\n\t}\n\n\tasync handleBlur(e) {\n\t\tlet {name, value} = e.target;\n\t\tlet self = this;\n\t\tself.setState({[name]: value});\n\n\t\tif ( name == \"contractAddress\" ) {\n\t\t\tif( value.length >= 40 ) {\n\t\t\t\tself.setState({isProcessing: true});\n\n\t\t\t\ttry {\n\t\t\t\t\tlet contractName = await Web3ConnectionHandler.getContractProp(value, 'name');\n\t\t\t\t\t\n\t\t\t\t\tlet contractSymbol = await Web3ConnectionHandler.getContractProp(value, 'symbol');\n\n\t\t\t\t\tlet contractDecimals = (await Web3ConnectionHandler.getContractProp(value, 'decimals')).toNumber();\n\t\t\t\t\t\n\t\t\t\t\tlet addressBalance = ((await Web3ConnectionHandler.getContractProp(value, 'balanceOf', Web3ConnectionHandler.checkBrowserCompatibility().selectedAddress)).toNumber() / Math.pow(10, contractDecimals)).toString();\n\n\t\t\t\t\tlet distributorContractAllowance = ((await Web3ConnectionHandler.getContractProp(value, 'allowance', Web3ConnectionHandler.checkBrowserCompatibility().selectedAddress, xplAddress)) / Math.pow(10, contractDecimals)).toString();\n\t\t\t\t\t\n\t\t\t\t\t// update state\n\t\t\t\t\tself.setState({\n\t\t\t\t\t\tcontractName,\n\t\t\t\t\t\tcontractSymbol,\n\t\t\t\t\t\tcontractDecimals,\n\t\t\t\t\t\taddressBalance,\n\t\t\t\t\t\tdistributorContractAllowance,\n\t\t\t\t\t});\n\n\t\t\t\t} catch(err) {\n\n\t\t\t\t\tconsole.log(\"Invalid contract Address / Network Error\");\n\t\t\t\t\tself.setState({contractAddress: \"\"});\n\t\t\t\t\n\t\t\t\t} finally {\n\t\t\t\t\t\n\t\t\t\t\tself.setState({isProcessing: false});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tself.emptyContractProps();\n\t\t\t}\n\t\t}\n\t}\n\n\thandleChange(e) {\n\t\tlet {name, value} = e.target;\n\t\tlet self = this;\n\t\tself.setState({[name]: value});\t\t\n\t\tif (name == \"uploadFileInput\") {\n\t\t\tlet files = document.getElementById(name).files;\n\t\t\t\n\t\t\tconsole.log(files);\n\t\t\t\n\t\t\tif(files.length > 0 ) {\n\t\t\t\tself.setState({selectedFileName: files[0].name});\n\t\t\t}\n\t\t} \n\t\t\n\t}\n\n\temptyContractProps() {\n\t\tthis.setState(this.contractProps);\n\t}\n\n\thandleReset() {\n\t\tthis.setState({\n\t\t\t...this.newDistribution,\n\t\t\t...this.contractProps\n\t\t});\n\t}\n\n\tformFields() {\n\t\treturn {\n\t\t\tcontractAddress: {\n\t\t\t\ttype: \"text\",\n\t\t\t\tname: \"contractAddress\",\n\t\t\t\tplaceholder: \"Contract Address\",\n\t\t\t\tclassName: \"input is-large\",\n\t\t\t\tvalue: this.state.contractAddress,\n\t\t\t\tonBlur: this.handleBlur,\n\t\t\t\tonChange: this.handleChange,\n\t\t\t\tautoComplete: \"off\"\n\t\t\t},\n\t\t\tcontractDecimals: {\n\t\t\t\ttype: \"text\",\n\t\t\t\tname: \"contractDecimals\",\n\t\t\t\tplaceholder: \"Decimals\",\n\t\t\t\tclassName: \"input is-medium\",\n\t\t\t\treadOnly: true,\n\t\t\t\tvalue: this.state.contractDecimals\n\t\t\t},\n\t\t\taddressBalance: {\n\t\t\t\ttype: \"text\",\n\t\t\t\tname: \"addressBalance\",\n\t\t\t\tplaceholder: \"Balance\",\n\t\t\t\tclassName: \"input is-medium\",\n\t\t\t\treadOnly: true,\n\t\t\t\tvalue: this.state.addressBalance\n\t\t\t},\n\t\t\tdistributorContractAllowance: {\n\t\t\t\ttype: \"text\",\n\t\t\t\tname: \"distributorContractAllowance\",\n\t\t\t\tplaceholder: \"Allowance\",\n\t\t\t\tclassName: \"input is-medium\",\n\t\t\t\treadonly: true,\n\t\t\t\tvalue: this.state.distributorContractAllowance\n\n\t\t\t},\n\t\t\tamountController: [\n\t\t\t\t{\n\t\t\t\t\ttype: \"radio\",\n\t\t\t\t\tname: \"amountController\",\n\t\t\t\t\tplaceholder: \"Unified amount\",\n\t\t\t\t\tdefaultChecked: true,\n\t\t\t\t\tonChange: this.toggleAmount\n\t\t\t\t},\n\n\t\t\t\t{\n\t\t\t\t\ttype: \"radio\",\n\t\t\t\t\tname: \"amountController\",\n\t\t\t\t\tplaceholder: \"Split amount\",\n\t\t\t\t\tonChange: this.toggleAmount\n\t\t\t\t}\n\t\t\t],\n\t\t\tuploadFileInput: {\n\t\t\t\tname: \"uploadFileInput\",\n\t\t\t\tonChange: this.handleChange,\n\t\t\t\tlabel: \"Select a file (optional)\",\n\t\t\t\tfileName: this.state.selectedFileName\n\t\t\t},\n\t\t\ttokenAmount: {\n\t\t\t\ttype: this.state.tokenAmountType,\n\t\t\t\tname: \"tokenAmount\",\n\t\t\t\tclassName: this.state.tokenAmountClassList,\n\t\t\t\tvalue: this.state.tokenAmount,\n\t\t\t\tplaceholder: this.state.tokenAmountPlaceholder,\n\t\t\t\tonBlur: this.handleBlur\n\n\t\t\t},\n\t\t\ttextAreaWithAddresses: {\n\t\t\t\ttype: \"textarea\",\n\t\t\t\tname: \"textAreaWithAddresses\",\n\t\t\t\tvalue: this.state.textAreaWithAddresses,\n\t\t\t\tplaceholder: \"Comma or whitespace separated addresses\\n0x138e326c28114f65202b4ed82a1eecdf81451e09, 0xca353c48ab32b8baba846477d28254309be5e7c6\",\n\t\t\t\tonBlur: this.handleBlur\n\n\t\t\t},\n\t\t\tsubmitButton: {\n\t\t\t\ttype: \"submit\",\n\t\t\t\ttext: \"Send Transaction\",\n\t\t\t\tclassName: \"button is-large is-link\",\n\t\t\t},\n\t\t\tresetButton: {\n\t\t\t\ttype: \"button\",\n\t\t\t\ttext: \"Reset\",\n\t\t\t\tclassName: \"button is-medium is-danger\",\n\t\t\t\tonClick: this.handleReset\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tif (Web3ConnectionHandler.checkBrowserCompatibility()) {\n\t\t\tthis.setState({isWeb3Browser: true});\n\t\t\tthis.unlockBrowser();\n\t\t}\n\t}\n\n\trender() {\n\t\tif (this.state.web3BrowserConnected && this.state.isWeb3Browser) {\n\t\t\treturn (\n\t\t\t\t<Page>\n\t\t\t\t\t<section className=\"halfpage-height\">\n\t\t\t\t\t\t<div className=\"container pl-4 pr-4 mt-4 pb-4\">\n\t\t\t\t\t\t\t<h1 className=\"is-size-3 has-text-centered\">Token Distributor</h1>\n\t\t\t\t\t\t\t<div className=\"columns center-align\">\n\t\t\t\t\t\t\t\t<form className=\"column is-8\" onSubmit={this.handleSubmit}>\n\t\t\t\t\t\t\t\t\t<h2 className=\"subtitle is-size-4\">Token Information</h2>\n\t\t\t\t\t\t\t\t\t<Input />\n\n\n\t\t\t\t\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"control buttons\">\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t{...this.formFields().submitButton}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t{...this.formFields().resetButton}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div className=\"column\">\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t<b>Selected Address</b><br/>\n\t\t\t\t\t\t\t\t\t\t<span>{Web3ConnectionHandler.checkBrowserCompatibility().selectedAddress}</span>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t<b>Network</b><br/>\n\t\t\t\t\t\t\t\t\t\t<span className={`tag is-medium is-${Web3ConnectionHandler.connectedNetwork().colour || \"danger\"}`}>\n\t\t\t\t\t\t\t\t\t\t\t{Web3ConnectionHandler.connectedNetwork().name || \"Unknown Network\"}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t<b> Target Contract </b><br/>\n\t\t\t\t\t\t\t\t\t\t<span> {this.state.contractAddress || \"Not a valid contract address\"} </span><br/>\n\n\t\t\t\t\t\t\t\t\t\t<span> \n\t\t\t\t\t\t\t\t\t\t\t<b>Name: </b> {this.state.contractName || \"Not available\"} <br/>\n\t\t\t\t\t\t\t\t\t\t\t<b>Symbol: </b> {this.state.contractSymbol || \"Not available\"} \n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t\t\t\t{ this.state.isProcessing &&\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t<button className=\"button is-text is-link is-large is-loading\">loading</button>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\t\t\t\t</Page>\t\n\t\t\t)\n\t\t} else if (this.state.isWeb3Browser) {\n\t\t\treturn (\n\t\t\t\t<LockedWeb3Browser>\n\t\t\t\t\t<button \n\t\t\t\t\t\tclassName=\"button is-warning is-large\"\n\t\t\t\t\t\tonClick={this.unlockBrowser}\n\t\t\t\t\t\t>\n\t\t\t\t\tUnlock Metamask\n\t\t\t\t\t</button>\n\t\t\t\t</LockedWeb3Browser>\n\t\t\t)\n\t\t} else {\n\t\t\treturn <NoWeb3Browser />\n\t\t}\n\t}\n}\n\n\nfunction LockedWeb3Browser(props) {\n\treturn (\n\t\t<Page>\n\t\t\t<section className=\"halfpage-height\">\n\t\t\t\t<div className=\"container pl-4 pr-4 mt-4 pb-4\">\n\t\t\t\t\t<h1 className=\"is-size-3 has-text-centered\">Token Distributor</h1>\n\t\t\t\t\t<div className=\"columns center-align\">\n\t\t\t\t\t\t<div className=\"column pt-4 mt-4\">\n\t\t\t\t\t\t\t<p className=\"is-size-4\"> Please unlock Metamask to continue.</p><br/>\n\t\t\t\t\t\t\t{props.children}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"column\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\t\t\t\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t</Page>\t\n\t)\n}\n\nfunction NoWeb3Browser() {\n\treturn (\n\t\t\t<Page>\n\t\t\t\t<section className=\"halfpage-height\">\n\t\t\t\t\t<div className=\"container pl-4 pr-4 mt-4 pb-4\">\n\t\t\t\t\t\t<h1 className=\"is-size-3 has-text-centered\">Token Distributor</h1>\n\t\t\t\t\t\t<div className=\"columns\">\n\t\t\t\t\t\t\t<div className=\"column center-align mt-4 pt-4\">\n\t\t\t\t\t\t\t\t<p className=\"is-size-4\"> This feature requires Metamask to be installed.</p>\n\t\t\t\t\t\t\t\t<a \n\t\t\t\t\t\t\t\t\tclassName=\"button is-danger is-large\"\n\t\t\t\t\t\t\t\t\thref=\"https://metamask.io\"\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tDownload Metamask\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"column\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t</Page>\t\n\t\t)\n}\n\nexport default TokenDistributor;"]},"metadata":{},"sourceType":"module"}