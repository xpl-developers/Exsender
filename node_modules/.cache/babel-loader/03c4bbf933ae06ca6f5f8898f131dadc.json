{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/abdulhakeem/Express/exsender/pages/token-distributor.js\";\nimport React from \"react\";\nimport Page from '../layouts/Main';\nimport { Input, Button, FileInput, TextArea, MultipleCheckBoxes } from '../components/FormElements';\nimport { LockedWeb3Browser, NoWeb3Browser, Web3ConnectionProps } from '../components/Web3Status';\nimport { ConnectedContractProps } from '../components/Contract';\nimport Processing from '../components/LoadingIndicator';\nimport { SpreadsheetHelper } from '../utils/fileHelpers';\nimport { Web3ConnectionHandler } from '../utils/web3-connect';\nimport Misc from '../utils/misc';\nvar xplAddress = \"0x2d213012e19f1433cb394ae6faba1c6a71ad1690\";\n\nvar TokenDistributor =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(TokenDistributor, _React$Component);\n\n  function TokenDistributor(props) {\n    var _this;\n\n    _classCallCheck(this, TokenDistributor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TokenDistributor).call(this, props));\n    _this.contractProps = {\n      contractName: \"\",\n      contractDecimals: \"\",\n      contractSymbol: \"\",\n      addressBalance: \"\",\n      distributorContractAllowance: \"\"\n    };\n    _this.newDistribution = {\n      selectedFileName: \"No file selected\",\n      textAreaWithAddresses: \"\",\n      tokenAmount: \"\",\n      totalAmount: \"\",\n      totalAddresses: \"\"\n    };\n    _this.state = _objectSpread({\n      isUnifiedAmount: true,\n      isWeb3Browser: false,\n      web3BrowserConnected: false,\n      isProcessing: false,\n      contractAddress: \"\"\n    }, _this.contractProps, _this.newDistribution);\n    _this.toggleAmount = _this.toggleAmount.bind(_assertThisInitialized(_this));\n    _this.unlockBrowser = _this.unlockBrowser.bind(_assertThisInitialized(_this));\n    _this.handleBlur = _this.handleBlur.bind(_assertThisInitialized(_this));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    _this.handleReset = _this.handleReset.bind(_assertThisInitialized(_this)); // this.fileInput = React.createRef();\n\n    return _this;\n  }\n\n  _createClass(TokenDistributor, [{\n    key: \"toggleAmount\",\n    value: function toggleAmount() {\n      this.setState({\n        isUnifiedAmount: !this.state.isUnifiedAmount\n      });\n    }\n  }, {\n    key: \"unlockBrowser\",\n    value: function unlockBrowser() {\n      var self = this;\n      Web3ConnectionHandler.enableWeb3Browser().then(function () {\n        self.setState({\n          web3BrowserConnected: true\n        });\n      }).catch(function (err) {\n        console.log(err);\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault(); //handle addresses\n\n      if (!(this.state.textAreaWithAddresses instanceof Array) || !(this.state.textAreaWithAddresses.length > 0)) {\n        return window.alert(\"ETH Addresses must be comma separated and not empty.\");\n      } // handle amount\n\n\n      var sumAmount;\n\n      if (this.state.isUnifiedAmount) {\n        if (!Number(this.state.tokenAmount)) {\n          return window.alert(\"Invalid amount of token.\");\n        }\n\n        sumAmount = this.state.tokenAmount * this.state.textAreaWithAddresses.length;\n      } else {\n        if (!(this.state.tokenAmount instanceof Array) || !(this.state.tokenAmount.length > 0)) {\n          return window.alert(\"Amount is splitted and amount must be comma separated.\");\n        }\n\n        if (this.state.isUnifiedAmount.length != this.state.textAreaWithAddresses.length) {\n          return window.alert(\"Amount is splitted and addresses count must be the same with amount count.\");\n        }\n\n        sumAmount = this.state.tokenAmount.reduce(function (acc, curr) {\n          return acc + curr;\n        });\n      } //handle contract address\n\n\n      var contractReady = this.state.contractAddress && this.state.contractDecimals;\n      var hasEnoughBalance = this.state.addressBalance >= sumAmount;\n\n      if (!contractReady) {\n        var message = \"Contract address is invalid\";\n        return window.alert(message);\n      } else if (!hasEnoughBalance) {\n        var _message = \"You do not have enough balance.\";\n        return window.alert(_message);\n      }\n\n      window.alert(\"Contract is ready to be sent\");\n    }\n  }, {\n    key: \"handleBlur\",\n    value: function () {\n      var _handleBlur = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        var _e$target, name, value, self, totalAmount, totalAddresses, validAddress, contractName, contractSymbol, contractDecimals, addressBalance, distributorContractAllowance, addressesArray, validAddresses, amountsArray, validateAmounts, amounts;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _e$target = e.target, name = _e$target.name, value = _e$target.value;\n                self = this;\n                self.setState(_defineProperty({}, name, value));\n\n                if (!(name == \"contractAddress\")) {\n                  _context.next = 41;\n                  break;\n                }\n\n                validAddress = Web3ConnectionHandler.validateAddress(value);\n\n                if (!validAddress) {\n                  _context.next = 38;\n                  break;\n                }\n\n                self.setState({\n                  isProcessing: true\n                });\n                _context.prev = 7;\n                _context.next = 10;\n                return Web3ConnectionHandler.getContractProp(value, 'name');\n\n              case 10:\n                contractName = _context.sent;\n                _context.next = 13;\n                return Web3ConnectionHandler.getContractProp(value, 'symbol');\n\n              case 13:\n                contractSymbol = _context.sent;\n                _context.next = 16;\n                return Web3ConnectionHandler.getContractProp(value, 'decimals');\n\n              case 16:\n                contractDecimals = _context.sent.toNumber();\n                _context.next = 19;\n                return Web3ConnectionHandler.getContractProp(value, 'balanceOf', Web3ConnectionHandler.checkBrowserCompatibility().selectedAddress);\n\n              case 19:\n                _context.t0 = _context.sent.toNumber();\n                _context.t1 = Math.pow(10, contractDecimals);\n                addressBalance = (_context.t0 / _context.t1).toString();\n                _context.next = 24;\n                return Web3ConnectionHandler.getContractProp(value, 'allowance', Web3ConnectionHandler.checkBrowserCompatibility().selectedAddress, xplAddress);\n\n              case 24:\n                _context.t2 = _context.sent;\n                _context.t3 = Math.pow(10, contractDecimals);\n                distributorContractAllowance = (_context.t2 / _context.t3).toString();\n                // update state\n                self.setState({\n                  contractName: contractName,\n                  contractSymbol: contractSymbol,\n                  contractDecimals: contractDecimals,\n                  addressBalance: addressBalance,\n                  distributorContractAllowance: distributorContractAllowance,\n                  contractInputCssClass: \"is-success\"\n                });\n                _context.next = 33;\n                break;\n\n              case 30:\n                _context.prev = 30;\n                _context.t4 = _context[\"catch\"](7);\n                // console.log(\"Invalid contract Address / Check network\");\n                this.emptyContractProps();\n\n              case 33:\n                _context.prev = 33;\n                self.setState({\n                  isProcessing: false\n                });\n                return _context.finish(33);\n\n              case 36:\n                _context.next = 39;\n                break;\n\n              case 38:\n                this.emptyContractProps();\n\n              case 39:\n                _context.next = 42;\n                break;\n\n              case 41:\n                if (name == \"textAreaWithAddresses\") {\n                  addressesArray = value.replace(/\\s+/g, \"\").split(',');\n                  addressesArray = Misc.removeFalsey(addressesArray);\n                  validAddresses = Web3ConnectionHandler.validateAddress(addressesArray);\n\n                  if (validAddresses) {\n                    totalAddresses = addressesArray.length;\n\n                    if (this.state.isUnifiedAmount && Number(this.state.tokenAmount)) {\n                      totalAmount = this.state.tokenAmount * totalAddresses;\n                    } else {\n                      totalAmount = this.state.tokenAmount;\n                    }\n\n                    self.setState({\n                      totalAmount: totalAmount,\n                      totalAddresses: totalAddresses,\n                      textAreaWithAddresses: addressesArray,\n                      textAreaWithAddressesInputCssClass: \"is-success\"\n                    });\n                  } else {\n                    self.setState({\n                      textAreaWithAddressesInputCssClass: \"is-danger\"\n                    });\n                  }\n                } else if (name == \"tokenAmount\") {\n                  if (!this.state.isUnifiedAmount) {\n                    amountsArray = value.replace(/\\s+/g, \"\").split(',');\n                    amountsArray = Misc.removeFalsey(amountsArray);\n                    validateAmounts = !amountsArray.some(function (amt) {\n                      return !Number(amt);\n                    });\n\n                    if (validateAmounts) {\n                      totalAmount = amountsArray.reduce(Misc.numberReducer);\n                      self.setState({\n                        totalAmount: totalAmount,\n                        tokenAmount: amountsArray,\n                        tokenAmountInputCssClass: \"is-success\"\n                      });\n                    } else {\n                      self.setState({\n                        tokenAmountInputCssClass: \"is-danger\"\n                      });\n                    }\n                  } else if (this.state.isUnifiedAmount) {\n                    amounts = Number(value);\n\n                    if (amounts) {\n                      totalAmount = amounts * this.state.totalAddresses || 0;\n                      self.setState({\n                        totalAmount: totalAmount,\n                        tokenAmount: amounts,\n                        tokenAmountInputCssClass: \"is-success\"\n                      });\n                    } else {\n                      self.setState({\n                        tokenAmountInputCssClass: \"is-danger\"\n                      });\n                    }\n                  }\n                }\n\n              case 42:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[7, 30, 33, 36]]);\n      }));\n\n      function handleBlur(_x) {\n        return _handleBlur.apply(this, arguments);\n      }\n\n      return handleBlur;\n    }()\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      var _this2 = this;\n\n      var _e$target2 = e.target,\n          name = _e$target2.name,\n          value = _e$target2.value;\n      var self = this;\n\n      if (name == \"uploadFileInput\") {\n        var uploadElement = document.getElementById(name);\n        var files = uploadElement.files;\n\n        if (files.length > 0) {\n          self.setState({\n            selectedFileName: files[0].name,\n            isProcessing: true\n          });\n          SpreadsheetHelper.readFile(files[0]).then(function (json) {\n            var fileColumn = _this2.state.isUnifiedAmount ? [\"address\"] : [\"address\", \"amount\"];\n            return SpreadsheetHelper.readObjectProperty(json, fileColumn);\n          }).then(function (columnsObject) {\n            if (columnsObject[\"amounts\"]) {\n              self.setState({\n                textAreaWithAddresses: columnsObject[\"addresses\"],\n                tokenAmount: columnsObject[\"amounts\"]\n              });\n            } else {\n              self.setState({\n                textAreaWithAddresses: columnsObject[\"addresses\"]\n              });\n            }\n          }).catch(function (err) {\n            console.log(\"err???\", err);\n          }).finally(function () {\n            self.setState({\n              isProcessing: false\n            });\n            uploadElement.value = \"\";\n          });\n        }\n      } else {\n        self.setState(_defineProperty({}, name, value));\n      }\n    }\n  }, {\n    key: \"emptyContractProps\",\n    value: function emptyContractProps() {\n      this.setState(_objectSpread({\n        contractInputCssClass: \"is-danger\"\n      }, this.contractProps));\n    }\n  }, {\n    key: \"handleReset\",\n    value: function handleReset() {\n      this.setState(_objectSpread({\n        contractAddress: \"\",\n        contractInputCssClass: \"\"\n      }, this.newDistribution, this.contractProps));\n    }\n  }, {\n    key: \"formFields\",\n    value: function formFields() {\n      return {\n        contractAddress: {\n          type: \"text\",\n          name: \"contractAddress\",\n          placeholder: \"Contract Address\",\n          className: this.state.contractInputCssClass + \" is-large\",\n          value: this.state.contractAddress,\n          onBlur: this.handleBlur,\n          onChange: this.handleChange\n        },\n        contractDecimals: {\n          type: \"text\",\n          name: \"contractDecimals\",\n          placeholder: \"Decimals\",\n          className: \"is-medium\",\n          readOnly: true,\n          value: this.state.contractDecimals\n        },\n        addressBalance: {\n          type: \"text\",\n          name: \"addressBalance\",\n          placeholder: \"Balance\",\n          className: \"input is-medium\",\n          readOnly: true,\n          value: this.state.addressBalance\n        },\n        distributorContractAllowance: {\n          type: \"text\",\n          name: \"distributorContractAllowance\",\n          placeholder: \"Allowance\",\n          className: \"input is-medium\",\n          readOnly: true,\n          value: this.state.distributorContractAllowance\n        },\n        amountController: [{\n          type: \"radio\",\n          name: \"amountController\",\n          placeholder: \"Unified amount\",\n          defaultChecked: true,\n          onChange: this.toggleAmount\n        }, {\n          type: \"radio\",\n          name: \"amountController\",\n          placeholder: \"Split amount\",\n          onChange: this.toggleAmount\n        }],\n        uploadFileInput: {\n          name: \"uploadFileInput\",\n          onChange: this.handleChange,\n          label: \"Select a file (optional)\",\n          fileName: this.state.selectedFileName\n        },\n        tokenAmountInput: {\n          type: \"text\",\n          name: \"tokenAmount\",\n          className: this.state.tokenAmountInputCssClass + \" is-large\",\n          value: this.state.tokenAmount,\n          placeholder: \"Amount of token\",\n          onBlur: this.handleBlur,\n          onChange: this.handleChange\n        },\n        tokenAmountTextArea: {\n          name: \"tokenAmount\",\n          className: this.state.tokenAmountInputCssClass + \" is-large\",\n          value: this.state.tokenAmount,\n          onBlur: this.handleBlur,\n          onChange: this.handleChange,\n          placeholder: \"Comma separated amount in order of addresses \\n240, 50, 100, 10, 75, 13, 5\",\n          tokenAmountType: \"textarea\"\n        },\n        textAreaWithAddresses: {\n          name: \"textAreaWithAddresses\",\n          className: this.state.textAreaWithAddressesInputCssClass,\n          value: this.state.textAreaWithAddresses,\n          placeholder: \"Comma separated addresses\\n0x138e326c28114f65202b4ed82a1eecdf81451e09, 0xca353c48ab32b8baba846477d28254309be5e7c6\",\n          onBlur: this.handleBlur,\n          onChange: this.handleChange\n        },\n        submitButton: {\n          type: \"submit\",\n          text: \"Send Transaction\",\n          className: \"button is-large is-link\"\n        },\n        resetButton: {\n          type: \"button\",\n          text: \"Reset\",\n          className: \"button is-medium is-danger\",\n          onClick: this.handleReset\n        }\n      };\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (Web3ConnectionHandler.checkBrowserCompatibility()) {\n        this.setState({\n          isWeb3Browser: true\n        });\n        this.unlockBrowser();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.web3BrowserConnected && this.state.isWeb3Browser) {\n        return React.createElement(Page, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 404\n          },\n          __self: this\n        }, React.createElement(\"section\", {\n          className: \"halfpage-height\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 405\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"container pl-4 pr-4 mt-4 pb-4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 406\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          className: \"is-size-3 has-text-centered\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 407\n          },\n          __self: this\n        }, \"Token Distributor\"), React.createElement(\"div\", {\n          className: \"columns\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 408\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          className: \"column is-8\",\n          onSubmit: this.handleSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 409\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          className: \"subtitle is-size-4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 410\n          },\n          __self: this\n        }, \"Token Information\"), React.createElement(Input, _extends({}, this.formFields().contractAddress, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 411\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"columns\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 413\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"column\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 414\n          },\n          __self: this\n        }, React.createElement(Input, _extends({}, this.formFields().contractDecimals, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 415\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"column\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 417\n          },\n          __self: this\n        }, React.createElement(Input, _extends({}, this.formFields().addressBalance, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 418\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"column\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 420\n          },\n          __self: this\n        }, React.createElement(Input, _extends({}, this.formFields().distributorContractAllowance, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 421\n          },\n          __self: this\n        })))), React.createElement(MultipleCheckBoxes, {\n          inputArray: this.formFields().amountController,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 425\n          },\n          __self: this\n        }), React.createElement(FileInput, _extends({}, this.formFields().uploadFileInput, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 428\n          },\n          __self: this\n        })), this.state.isUnifiedAmount && React.createElement(Input, _extends({}, this.formFields().tokenAmountInput, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 434\n          },\n          __self: this\n        })), !this.state.isUnifiedAmount && React.createElement(TextArea, _extends({}, this.formFields().tokenAmountTextArea, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 438\n          },\n          __self: this\n        })), React.createElement(TextArea, _extends({}, this.formFields().textAreaWithAddresses, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 443\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"field\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 447\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"control buttons\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 448\n          },\n          __self: this\n        }, React.createElement(Button, _extends({}, this.formFields().submitButton, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 449\n          },\n          __self: this\n        })), React.createElement(Button, _extends({}, this.formFields().resetButton, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 452\n          },\n          __self: this\n        }))))), React.createElement(\"div\", {\n          className: \"column\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 459\n          },\n          __self: this\n        }, React.createElement(Web3ConnectionProps, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 460\n          },\n          __self: this\n        }), React.createElement(ConnectedContractProps, {\n          contractAddress: this.state.contractAddress,\n          contractName: this.state.contractName,\n          contractSymbol: this.state.contractSymbol,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 462\n          },\n          __self: this\n        }), this.state.isProcessing && React.createElement(Processing, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 469\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 471\n          },\n          __self: this\n        }), React.createElement(DistributionStat, {\n          totalAmount: this.state.totalAmount,\n          totalAddresses: this.state.totalAddresses,\n          contractSymbol: this.state.contractSymbol,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 473\n          },\n          __self: this\n        }))))));\n      } else if (this.state.isWeb3Browser) {\n        return React.createElement(Page, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 487\n          },\n          __self: this\n        }, React.createElement(LockedWeb3Browser, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 488\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"button is-warning is-large\",\n          onClick: this.unlockBrowser,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 489\n          },\n          __self: this\n        }, \"Unlock Metamask\")));\n      } else {\n        return React.createElement(Page, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 500\n          },\n          __self: this\n        }, React.createElement(NoWeb3Browser, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 501\n          },\n          __self: this\n        }));\n      }\n    }\n  }]);\n\n  return TokenDistributor;\n}(React.Component);\n\nfunction DistributionStat(props) {\n  return React.createElement(\"div\", {\n    className: \"stat is-size-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 510\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 511\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 511\n    },\n    __self: this\n  }, \" Statistics \")), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 513\n    },\n    __self: this\n  }, \"Amount: \", props.totalAmount || 0, \" \", props.contractSymbol || \"\", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 514\n    },\n    __self: this\n  }), \"Addresses: \", props.totalAddresses || 0));\n}\n\nexport default TokenDistributor;","map":{"version":3,"sources":["/home/abdulhakeem/Express/exsender/pages/token-distributor.js"],"names":["Page","Input","Button","FileInput","TextArea","MultipleCheckBoxes","LockedWeb3Browser","NoWeb3Browser","Web3ConnectionProps","ConnectedContractProps","Processing","SpreadsheetHelper","Web3ConnectionHandler","Misc","xplAddress","TokenDistributor","props","contractProps","contractName","contractDecimals","contractSymbol","addressBalance","distributorContractAllowance","newDistribution","selectedFileName","textAreaWithAddresses","tokenAmount","totalAmount","totalAddresses","state","isUnifiedAmount","isWeb3Browser","web3BrowserConnected","isProcessing","contractAddress","toggleAmount","bind","unlockBrowser","handleBlur","handleChange","handleSubmit","handleReset","setState","self","enableWeb3Browser","then","catch","err","console","log","e","preventDefault","Array","length","window","alert","sumAmount","Number","reduce","acc","curr","contractReady","hasEnoughBalance","message","target","name","value","validAddress","validateAddress","getContractProp","toNumber","checkBrowserCompatibility","selectedAddress","Math","pow","toString","contractInputCssClass","emptyContractProps","addressesArray","replace","split","removeFalsey","validAddresses","textAreaWithAddressesInputCssClass","amountsArray","validateAmounts","some","amt","numberReducer","tokenAmountInputCssClass","amounts","uploadElement","document","getElementById","files","readFile","json","fileColumn","readObjectProperty","columnsObject","finally","type","placeholder","className","onBlur","onChange","readOnly","amountController","defaultChecked","uploadFileInput","label","fileName","tokenAmountInput","tokenAmountTextArea","tokenAmountType","submitButton","text","resetButton","onClick","formFields","React","Component","DistributionStat"],"mappings":"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","sourcesContent":["import Page from '../layouts/Main';\n\nimport { Input, Button, FileInput, TextArea, MultipleCheckBoxes } from '../components/FormElements';\n\nimport { LockedWeb3Browser, NoWeb3Browser, Web3ConnectionProps } from '../components/Web3Status';\n\nimport { ConnectedContractProps } from '../components/Contract';\nimport Processing from '../components/LoadingIndicator';\n\nimport { SpreadsheetHelper } from '../utils/fileHelpers';\nimport { Web3ConnectionHandler } from '../utils/web3-connect';\nimport Misc from '../utils/misc';\n\nconst xplAddress = \"0x2d213012e19f1433cb394ae6faba1c6a71ad1690\";\n\nclass TokenDistributor extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.contractProps = {\n\t\t\tcontractName: \"\",\n\t\t\tcontractDecimals: \"\",\n\t\t\tcontractSymbol: \"\",\n\t\t\taddressBalance: \"\",\n\t\t\tdistributorContractAllowance: \"\",\n\t\t}\n\t\tthis.newDistribution = {\n\t\t\tselectedFileName: \"No file selected\",\n\t\t\ttextAreaWithAddresses: \"\",\n\t\t\ttokenAmount: \"\",\n\t\t\ttotalAmount: \"\",\n\t\t\ttotalAddresses: \"\"\n\t\t}\n\n\t\tthis.state = {\n\t\t\tisUnifiedAmount: true, \n\t\t\tisWeb3Browser: false, \n\t\t\tweb3BrowserConnected: false,\n\t\t\tisProcessing: false,\n\t\t\tcontractAddress: \"\",\n\t\t\t...this.contractProps,\n\t\t\t...this.newDistribution\n\t\t};\n\n\t\tthis.toggleAmount = this.toggleAmount.bind(this);\n\t\tthis.unlockBrowser = this.unlockBrowser.bind(this);\n\t\tthis.handleBlur = this.handleBlur.bind(this);\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t\tthis.handleReset = this.handleReset.bind(this);\n\n\t\t// this.fileInput = React.createRef();\n\t}\n\t\n\ttoggleAmount() {\n\t\tthis.setState({\n\t\t\tisUnifiedAmount: !this.state.isUnifiedAmount\n\t\t})\n\t}\n\n\tunlockBrowser() {\n\t\tlet self = this;\n\t\tWeb3ConnectionHandler.enableWeb3Browser()\n\t\t.then(function() {\n\t\t\tself.setState({web3BrowserConnected: true});\n\t\t})\n\t\t.catch(function(err){\n\t\t\tconsole.log(err)\n\t\t})\n\t}\n\t\n\thandleSubmit(e) {\n\t\te.preventDefault();\n\t\t\n\t\t//handle addresses\n\t\tif (!(this.state.textAreaWithAddresses instanceof Array) || !(this.state.textAreaWithAddresses.length > 0)) {\n\t\t\t\n\t\t\treturn window.alert(\"ETH Addresses must be comma separated and not empty.\");\n\t\t}\n\n\t\t// handle amount\n\t\tlet sumAmount;\n\t\tif (this.state.isUnifiedAmount) {\n\t\t\tif (!Number(this.state.tokenAmount)) {\n\t\t\t\treturn window.alert(\"Invalid amount of token.\");\n\t\t\t} \n\t\t\tsumAmount = this.state.tokenAmount * this.state.textAreaWithAddresses.length;\n\t\t} else {\n\t\t\tif (!(this.state.tokenAmount instanceof Array) || !(this.state.tokenAmount.length > 0)) {\n\t\t\t\t\n\t\t\t\treturn window.alert(\"Amount is splitted and amount must be comma separated.\");\n\t\t\t} \n\t\t\tif (this.state.isUnifiedAmount.length != this.state.textAreaWithAddresses.length) {\n\t\t\t\treturn window.alert(\"Amount is splitted and addresses count must be the same with amount count.\");\n\t\t\t} \n\t\t\tsumAmount = this.state.tokenAmount.reduce((acc, curr) => acc + curr);\n\t\t}\n\n\t\t//handle contract address\n\n\t\tlet contractReady = this.state.contractAddress && this.state.contractDecimals;\n\t\tlet hasEnoughBalance = this.state.addressBalance >= sumAmount;\n\n\t\tif (!contractReady) {\n\t\t\tlet message = \"Contract address is invalid\";\n\t\t\treturn window.alert(message);\n\t\t} else if (!hasEnoughBalance) {\n\t\t\tlet message = \"You do not have enough balance.\";\n\t\t\treturn window.alert(message);\n\t\t}\n\t\twindow.alert(\"Contract is ready to be sent\");\n\n\t}\n\n\tasync handleBlur(e) {\n\t\tlet {name, value} = e.target;\n\t\tlet self = this, totalAmount, totalAddresses;\n\t\tself.setState({[name]: value});\n\n\t\tif ( name == \"contractAddress\" ) {\n\t\t\tlet validAddress = Web3ConnectionHandler.validateAddress(value);\n\n\t\t\tif( validAddress ) {\n\t\t\t\tself.setState({isProcessing: true});\n\t\t\t\ttry {\n\t\t\t\t\tlet contractName = await Web3ConnectionHandler.getContractProp(value, 'name');\n\t\t\t\t\t\n\t\t\t\t\tlet contractSymbol = await Web3ConnectionHandler.getContractProp(value, 'symbol');\n\n\t\t\t\t\tlet contractDecimals = (await Web3ConnectionHandler.getContractProp(value, 'decimals')).toNumber();\n\t\t\t\t\t\n\t\t\t\t\tlet addressBalance = ((await Web3ConnectionHandler.getContractProp(value, 'balanceOf', Web3ConnectionHandler.checkBrowserCompatibility().selectedAddress)).toNumber() / Math.pow(10, contractDecimals)).toString();\n\n\t\t\t\t\tlet distributorContractAllowance = ((await Web3ConnectionHandler.getContractProp(value, 'allowance', Web3ConnectionHandler.checkBrowserCompatibility().selectedAddress, xplAddress)) / Math.pow(10, contractDecimals)).toString();\n\t\t\t\t\t\n\t\t\t\t\t// update state\n\t\t\t\t\tself.setState({\n\t\t\t\t\t\tcontractName,\n\t\t\t\t\t\tcontractSymbol,\n\t\t\t\t\t\tcontractDecimals,\n\t\t\t\t\t\taddressBalance,\n\t\t\t\t\t\tdistributorContractAllowance,\n\t\t\t\t\t\tcontractInputCssClass: \"is-success\"\n\t\t\t\t\t});\n\n\t\t\t\t} catch(err) {\n\t\t\t\t\t// console.log(\"Invalid contract Address / Check network\");\n\t\t\t\t\tthis.emptyContractProps();\n\t\t\t\t} finally {\n\t\t\t\t\tself.setState({isProcessing: false});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t\n\t\t\t\tthis.emptyContractProps();\n\t\t\t}\n\t\t} else if ( name == \"textAreaWithAddresses\" ) {\n\t\t\t\n\t\t\tlet addressesArray = (value.replace(/\\s+/g, \"\")).split(',');\n\n\t\t\t\taddressesArray = Misc.removeFalsey(addressesArray);\n\t\t\tlet validAddresses = Web3ConnectionHandler.validateAddress(addressesArray);\n\n\t\t\tif ( validAddresses ) {\n\t\t\t\ttotalAddresses = addressesArray.length;\n\n\t\t\t\tif (this.state.isUnifiedAmount && Number(this.state.tokenAmount)) {\n\t\t\t\t\ttotalAmount = this.state.tokenAmount * totalAddresses;\n\t\t\t\t} else {\n\t\t\t\t\ttotalAmount = this.state.tokenAmount;\n\t\t\t\t}\n\n\t\t\t\tself.setState({\n\t\t\t\t\ttotalAmount,\n\t\t\t\t\ttotalAddresses,\n\t\t\t\t\ttextAreaWithAddresses: addressesArray,\n\t\t\t\t\ttextAreaWithAddressesInputCssClass: \"is-success\"\n\t\t\t\t});\n\t\t\t} else {\n\n\t\t\t\tself.setState({\n\t\t\t\t\ttextAreaWithAddressesInputCssClass: \"is-danger\"\n\t\t\t\t});\t\n\t\t\t}\n\t\t\t\n\t\t} else if ( name == \"tokenAmount\" ) {\n\t\t\tif ( !this.state.isUnifiedAmount ) {\n\t\t\t\tlet amountsArray = (value.replace(/\\s+/g, \"\")).split(',');\n\t\t\t\t\tamountsArray = Misc.removeFalsey(amountsArray);\n\n\t\t\t\tlet validateAmounts = !amountsArray.some( amt => !Number(amt) );\n\n\t\t\t\tif ( validateAmounts ) {\n\t\t\t\t\ttotalAmount = amountsArray.reduce(Misc.numberReducer);\n\n\t\t\t\t\tself.setState({\n\t\t\t\t\t\ttotalAmount,\n\t\t\t\t\t\ttokenAmount: amountsArray,\n\t\t\t\t\t\ttokenAmountInputCssClass: \"is-success\"\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tself.setState({\n\t\t\t\t\t\ttokenAmountInputCssClass: \"is-danger\"\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t} else if ( this.state.isUnifiedAmount ) {\n\t\t\t\tlet amounts = Number(value);\n\t\t\t\tif ( amounts ) {\n\t\t\t\t\ttotalAmount = (amounts * this.state.totalAddresses) || 0;\n\n\t\t\t\t\tself.setState({\n\t\t\t\t\t\ttotalAmount,\n\t\t\t\t\t\ttokenAmount: amounts,\n\t\t\t\t\t\ttokenAmountInputCssClass: \"is-success\"\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tself.setState({\n\t\t\t\t\t\ttokenAmountInputCssClass: \"is-danger\"\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// update totalAddresses & totalAmount\n\t\t// self.setState({\n\t\t// \ttotalAmount, totalAddresses\n\t\t// });\n\t}\n\n\thandleChange(e) {\n\t\tlet {name, value} = e.target;\n\t\tlet self = this;\n\n\t\tif (name == \"uploadFileInput\") {\n\t\t\tlet uploadElement = document.getElementById(name);\n\t\t\tlet files = uploadElement.files;\n\n\t\t\tif(files.length > 0 ) {\n\t\t\t\tself.setState({\n\t\t\t\t\tselectedFileName: files[0].name,\n\t\t\t\t\tisProcessing: true\n\t\t\t\t});\n\n\t\t\t\tSpreadsheetHelper.readFile(files[0])\n\t\t\t\t.then( json => {\n\t\t\t\t\tlet fileColumn = this.state.isUnifiedAmount ? [\"address\"] : [\"address\", \"amount\"];\n\n\t\t\t\t\treturn SpreadsheetHelper.readObjectProperty(json, fileColumn);\n\t\t\t\t})\n\t\t\t\t.then( columnsObject => {\n\t\t\t\t\tif ( columnsObject[\"amounts\"] ) {\n\t\t\t\t\t\tself.setState({\n\t\t\t\t\t\t\ttextAreaWithAddresses: columnsObject[\"addresses\"],\n\t\t\t\t\t\t\ttokenAmount: columnsObject[\"amounts\"]\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.setState({\n\t\t\t\t\t\t\ttextAreaWithAddresses: columnsObject[\"addresses\"]\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch( err => {\n\t\t\t\t\tconsole.log(\"err???\", err)\n\t\t\t\t})\n\t\t\t\t.finally(() =>  {\n\t\t\t\t\tself.setState({isProcessing: false});\n\t\t\t\t\tuploadElement.value = \"\";\n\t\t\t\t}) \n\n\t\t\t}\n\n\n\t\t} else {\n\n\t\t\tself.setState({[name]: value});\t\n\t\t} \n\t\t\n\t}\n\n\temptyContractProps() {\n\t\tthis.setState({\n\t\t\tcontractInputCssClass: \"is-danger\",\n\t\t\t...this.contractProps\n\t\t});\n\t}\n\n\thandleReset() {\n\t\tthis.setState({\n\t\t\tcontractAddress: \"\",\n\t\t\tcontractInputCssClass: \"\",\n\t\t\t...this.newDistribution,\n\t\t\t...this.contractProps\n\t\t});\n\t}\n\n\tformFields() {\n\t\treturn {\n\t\t\tcontractAddress: {\n\t\t\t\ttype: \"text\",\n\t\t\t\tname: \"contractAddress\",\n\t\t\t\tplaceholder: \"Contract Address\",\n\t\t\t\tclassName: this.state.contractInputCssClass + \" is-large\",\n\t\t\t\tvalue: this.state.contractAddress,\n\t\t\t\tonBlur: this.handleBlur,\n\t\t\t\tonChange: this.handleChange\n\t\t\t},\n\t\t\tcontractDecimals: {\n\t\t\t\ttype: \"text\",\n\t\t\t\tname: \"contractDecimals\",\n\t\t\t\tplaceholder: \"Decimals\",\n\t\t\t\tclassName: \"is-medium\",\n\t\t\t\treadOnly: true,\n\t\t\t\tvalue: this.state.contractDecimals\n\t\t\t},\n\t\t\taddressBalance: {\n\t\t\t\ttype: \"text\",\n\t\t\t\tname: \"addressBalance\",\n\t\t\t\tplaceholder: \"Balance\",\n\t\t\t\tclassName: \"input is-medium\",\n\t\t\t\treadOnly: true,\n\t\t\t\tvalue: this.state.addressBalance\n\t\t\t},\n\t\t\tdistributorContractAllowance: {\n\t\t\t\ttype: \"text\",\n\t\t\t\tname: \"distributorContractAllowance\",\n\t\t\t\tplaceholder: \"Allowance\",\n\t\t\t\tclassName: \"input is-medium\",\n\t\t\t\treadOnly: true,\n\t\t\t\tvalue: this.state.distributorContractAllowance\n\n\t\t\t},\n\t\t\tamountController: [\n\t\t\t\t{\n\t\t\t\t\ttype: \"radio\",\n\t\t\t\t\tname: \"amountController\",\n\t\t\t\t\tplaceholder: \"Unified amount\",\n\t\t\t\t\tdefaultChecked: true,\n\t\t\t\t\tonChange: this.toggleAmount\n\t\t\t\t},\n\n\t\t\t\t{\n\t\t\t\t\ttype: \"radio\",\n\t\t\t\t\tname: \"amountController\",\n\t\t\t\t\tplaceholder: \"Split amount\",\n\t\t\t\t\tonChange: this.toggleAmount\n\t\t\t\t}\n\t\t\t],\n\t\t\tuploadFileInput: {\n\t\t\t\tname: \"uploadFileInput\",\n\t\t\t\tonChange: this.handleChange,\n\t\t\t\tlabel: \"Select a file (optional)\",\n\t\t\t\tfileName: this.state.selectedFileName\n\t\t\t},\n\t\t\ttokenAmountInput: {\n\t\t\t\ttype: \"text\",\n\t\t\t\tname: \"tokenAmount\",\n\t\t\t\tclassName: this.state.tokenAmountInputCssClass + \" is-large\",\n\t\t\t\tvalue: this.state.tokenAmount,\n\t\t\t\tplaceholder: \"Amount of token\",\n\t\t\t\tonBlur: this.handleBlur,\n\t\t\t\tonChange: this.handleChange\n\t\t\t},\n\t\t\ttokenAmountTextArea: {\n\t\t\t\tname: \"tokenAmount\",\n\t\t\t\tclassName: this.state.tokenAmountInputCssClass + \" is-large\",\n\t\t\t\tvalue: this.state.tokenAmount,\n\t\t\t\tonBlur: this.handleBlur,\n\t\t\t\tonChange: this.handleChange,\n\t\t\t\tplaceholder: \"Comma separated amount in order of addresses \\n240, 50, 100, 10, 75, 13, 5\",\n\t\t\t\ttokenAmountType: \"textarea\",\n\t\t\t},\n\n\t\t\ttextAreaWithAddresses: {\n\t\t\t\tname: \"textAreaWithAddresses\",\n\t\t\t\tclassName: this.state.textAreaWithAddressesInputCssClass,\n\t\t\t\tvalue: this.state.textAreaWithAddresses,\n\t\t\t\tplaceholder: \"Comma separated addresses\\n0x138e326c28114f65202b4ed82a1eecdf81451e09, 0xca353c48ab32b8baba846477d28254309be5e7c6\",\n\t\t\t\tonBlur: this.handleBlur,\n\t\t\t\tonChange: this.handleChange\n\t\t\t},\n\t\t\tsubmitButton: {\n\t\t\t\ttype: \"submit\",\n\t\t\t\ttext: \"Send Transaction\",\n\t\t\t\tclassName: \"button is-large is-link\",\n\t\t\t},\n\t\t\tresetButton: {\n\t\t\t\ttype: \"button\",\n\t\t\t\ttext: \"Reset\",\n\t\t\t\tclassName: \"button is-medium is-danger\",\n\t\t\t\tonClick: this.handleReset\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tif (Web3ConnectionHandler.checkBrowserCompatibility()) {\n\t\t\tthis.setState({isWeb3Browser: true});\n\t\t\tthis.unlockBrowser();\n\t\t}\n\t}\n\n\trender() {\n\t\tif (this.state.web3BrowserConnected && this.state.isWeb3Browser) {\n\t\t\treturn (\n\t\t\t\t<Page>\n\t\t\t\t\t<section className=\"halfpage-height\">\n\t\t\t\t\t\t<div className=\"container pl-4 pr-4 mt-4 pb-4\">\n\t\t\t\t\t\t\t<h1 className=\"is-size-3 has-text-centered\">Token Distributor</h1>\n\t\t\t\t\t\t\t<div className=\"columns\">\n\t\t\t\t\t\t\t\t<form className=\"column is-8\" onSubmit={this.handleSubmit}>\n\t\t\t\t\t\t\t\t\t<h2 className=\"subtitle is-size-4\">Token Information</h2>\n\t\t\t\t\t\t\t\t\t<Input {...this.formFields().contractAddress} />\n\n\t\t\t\t\t\t\t\t\t<div className=\"columns\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"column\">\n\t\t\t\t\t\t\t\t\t\t\t<Input {...this.formFields().contractDecimals} />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"column\">\n\t\t\t\t\t\t\t\t\t\t\t<Input {...this.formFields().addressBalance} />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"column\">\n\t\t\t\t\t\t\t\t\t\t\t<Input {...this.formFields().distributorContractAllowance} />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<MultipleCheckBoxes \n\t\t\t\t\t\t\t\t\t\tinputArray={this.formFields().amountController}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FileInput\n\t\t\t\t\t\t\t\t\t\t{...this.formFields().uploadFileInput} \n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.state.isUnifiedAmount &&\n\t\t\t\t\t\t\t\t\t\t<Input {...this.formFields().tokenAmountInput} />\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t!this.state.isUnifiedAmount &&\n\t\t\t\t\t\t\t\t\t\t<TextArea\n\t\t\t\t\t\t\t\t\t\t\t{...this.formFields().tokenAmountTextArea} \n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t<TextArea\n\t\t\t\t\t\t\t\t\t\t{...this.formFields().textAreaWithAddresses} \n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"control buttons\">\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t{...this.formFields().submitButton}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t{...this.formFields().resetButton}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div className=\"column\">\n\t\t\t\t\t\t\t\t\t<Web3ConnectionProps />\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<ConnectedContractProps\n\t\t\t\t\t\t\t\t\t\tcontractAddress={this.state.contractAddress}\n\t\t\t\t\t\t\t\t\t\tcontractName={this.state.contractName}\n\t\t\t\t\t\t\t\t\t\tcontractSymbol={this.state.contractSymbol}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t{ this.state.isProcessing &&\n\t\t\t\t\t\t\t\t\t\t<Processing />\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t<br/>\n\n\t\t\t\t\t\t\t\t\t<DistributionStat\n\t\t\t\t\t\t\t\t\t\ttotalAmount = {this.state.totalAmount}\n\t\t\t\t\t\t\t\t\t\ttotalAddresses = {this.state.totalAddresses}\n\t\t\t\t\t\t\t\t\t\tcontractSymbol = {this.state.contractSymbol}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\t\t\t\t</Page>\t\n\t\t\t)\n\t\t} else if (this.state.isWeb3Browser) {\n\t\t\treturn (\n\t\t\t\t<Page>\n\t\t\t\t\t<LockedWeb3Browser>\n\t\t\t\t\t\t<button \n\t\t\t\t\t\t\tclassName=\"button is-warning is-large\"\n\t\t\t\t\t\t\tonClick={this.unlockBrowser}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\tUnlock Metamask\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</LockedWeb3Browser>\n\t\t\t\t</Page>\n\t\t\t)\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Page>\n\t\t\t\t\t<NoWeb3Browser />\n\t\t\t\t</Page>\n\t\t\t) \n\t\t}\n\t}\n}\n\nfunction DistributionStat(props) {\n\treturn (\n\t\t\t<div className=\"stat is-size-6\">\n\t\t\t\t<h3><b> Statistics </b></h3>\n\t\t\t\t\n\t\t\t\t<p>\n\t\t\t\t\tAmount: {props.totalAmount || 0} {props.contractSymbol || \"\"}<br/>\n\t\t\t\t\tAddresses: {props.totalAddresses || 0} \n\t\t\t\t</p>\n\t\t\t</div>\n\t)\n}\n\nexport default TokenDistributor;"]},"metadata":{},"sourceType":"module"}